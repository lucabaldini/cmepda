\begin{Verbatim}[label=\makebox{\url{https://github.com/lucabaldini/cmepda/tree/master/slides/latex/snippets/exceptions.py}},commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{cut\PYZus{}before}\PY{p}{(}\PY{n}{input\PYZus{}string}\PY{p}{,} \PY{n}{substring}\PY{p}{)}\PY{p}{:}
    \PY{k}{try}\PY{p}{:}
        \PY{n}{result} \PY{o}{=} \PY{n}{input\PYZus{}string}\PY{p}{[}\PY{p}{:}\PY{p}{(}\PY{n}{input\PYZus{}string}\PY{o}{.}\PY{n}{index}\PY{p}{(}\PY{n}{substring}\PY{p}{)}\PY{p}{)}\PY{p}{]}
        \PY{k}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{This line is not executed if an exception is raised in the try block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{k}{except} \PY{n+ne}{ValueError}\PY{p}{:}
        \PY{k}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{This line is executed only if a ValueError is raised in the try block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{k}{else}\PY{p}{:} \PY{c+c1}{\PYZsh{} optional!}
      \PY{k}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{This line is executed only if no exception is raised in the try block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
      \PY{k}{return} \PY{n}{result}
    \PY{k}{finally}\PY{p}{:} \PY{c+c1}{\PYZsh{} optional!}
      \PY{k}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{This line is always executed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{cut\PYZus{}before}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{We all live in a Yellow Submarine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Yellow}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{cut\PYZus{}before}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{We all live in a Yellow Submarine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

[Output]
This line is not executed if an exception is raised in the try block
This line is executed only if no exception is raised in the try block
This line is always executed
This line is executed only if a ValueError is raised in the try block
This line is always executed
\end{Verbatim}